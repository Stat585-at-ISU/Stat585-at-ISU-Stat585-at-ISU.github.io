{
  "hash": "58ab7913de55996cc0edfc9375e98bcc",
  "result": {
    "markdown": "---\nauthor: \"Parvin Mohammadiarvejeh\"\ntitle: \"Web scraping etiquette ...\"\ncategories: \"Errors and warnings in packages\"\ndate: \"2023-04-06\"\noutput: github_document\n---\n\n \n## Prompt:\n\nWith great power comes great responsibility - a large part of the web is based on data and services that scrape those data. \nNow that we start to apply scraping mechanisms, we need to think about how to apply those skills without becoming a burden to the internet society.\n\nFind sources on ethical web scraping - some readings that might help you get started with that are: \n\n  - [James Densmore](https://towardsdatascience.com/ethics-in-web-scraping-b96b18136f01)\n\n  - R package [polite](https://github.com/dmi3kno/polite)\n\n  - [JAMI @ EMPIRICAL](https://www.empiricaldata.org/dataladyblog/a-guide-to-ethical-web-scraping)\n\n\nAfter reading through some of the ethics essays\nwrite a blog post addressing the following questions: \n\n1. **What are your main three takeaways for ethical web scraping? - Give examples, or cite your sources.**\nParvin's answer: 1) I will always mention and clarify my intentions by using the data that I scarp and I will not scrap the data that I do not need. For example, suppose that I scrapped data from a web, if I am analyzing the relationship between two variables including exercise and lifetime, I will mention my goal in my github and also I will not scrap the data related to the diet which I do not use it in my analysis. 2) I will always try to give the credit back to the owner of the website. For example I will mention it in the paper as the reference. 3) I will always extract data from a web to create value, new, and useful information. In the other words, I will not copy the data to put it my webpage. For example, I will use the data to run a prediction model to publish insights.\n2. **What is a ROBOTS.TXT file? Identify one instance and explain what it allows/prevents.**\nParvin's answer: robots.txt file which is used in the \"polite\" package and it should be called in the process of the web scarping to introduce the client (who will use from the data by web scarping) to the host and get the permission to scrape. Also, it helps to take the information with slower rate and the client needs to ask the permission just one time. \n3. **Identify a website that you would like to scrape (or one an example from class) and implement a scrape using the `polite` package.**\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-1_4b0f02ec4d66425d551d943eae02cf2d'}\n\n```{.r .cell-code}\nlibrary(polite)\nlibrary(rvest)\nlibrary(purrr)\nlibrary(dplyr)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'dplyr'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n:::\n\n```{.r .cell-code}\nsession = bow(\"https://www.nytimes.com/elections/2016/results/iowa\") \nhtml = scrape(session)\nhtml\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n{html_document}\n<html lang=\"en\" itemscope=\"\" xmlns:og=\"//opengraphprotocol.org/schema/\" itemtype=\"//schema.org/NewsArticle\">\n[1] <head>\\n<title>Iowa Election Results 2016 – The New York Times</title>\\n< ...\n[2] <body class=\"eln-general-state-results eln-state-iowa\">\\n    <div id=\"she ...\n```\n:::\n:::\n\n::: {.cell hash='index_cache/html/unnamed-chunk-2_24cdf7396922206428d67878dcbf8066'}\n\n```{.r .cell-code}\ntables <- html %>% html_table(fill=TRUE)\ntables %>% purrr::map(glimpse)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 11\nColumns: 7\n$ Candidate <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA\n$ Candidate <chr> \"Trump\\n            \\n            \\n              Donald J. …\n$ Party     <chr> \"Republican\\n          Rep.\", \"Democrat\\n          Dem.\", \"L…\n$ Votes     <chr> \"800,983\", \"653,669\", \"59,186\", \"19,992\", \"12,366\", \"11,479\"…\n$ Pct.      <chr> \"51.1%\", \"41.7%\", \"3.8%\", \"1.3%\", \"0.8%\", \"0.7%\", \"0.3%\", \"0…\n$ ``        <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA\n$ E.V.      <chr> \"6\", \"—\", \"—\", \"—\", \"—\", \"—\", \"—\", \"—\", \"—\", \"—\", \"—\"\nRows: 99\nColumns: 3\n$ `Vote by county` <chr> \"Polk\", \"Linn\", \"Scott\", \"Johnson\", \"Black Hawk\", \"St…\n$ Trump            <chr> \"93,492\", \"48,390\", \"39,149\", \"21,044\", \"27,476\", \"19…\n$ Clinton          <chr> \"119,804\", \"58,935\", \"40,440\", \"50,200\", \"32,233\", \"2…\nRows: 6\nColumns: 6\n$ Candidate <lgl> NA, NA, NA, NA, NA, NA\n$ Candidate <chr> \"Grassley*\\n            \\n            \\n              Charle…\n$ Party     <chr> \"Republican\\n          Rep.\", \"Democrat\\n          Dem.\", \"L…\n$ Votes     <chr> \"926,007\", \"549,460\", \"41,794\", \"17,649\", \"4,441\", \"22,090\"\n$ Pct.      <chr> \"60.2%\", \"35.7%\", \"2.7%\", \"1.1%\", \"0.3%\", \"1.4%\"\n$ ``        <lgl> NA, NA, NA, NA, NA, NA\nRows: 99\nColumns: 3\n$ `Vote by county` <chr> \"Polk\", \"Linn\", \"Scott\", \"Johnson\", \"Black Hawk\", \"St…\n$ Grassley         <chr> \"118,164\", \"62,737\", \"46,415\", \"28,914\", \"33,884\", \"2…\n$ Judge            <chr> \"100,317\", \"47,635\", \"34,503\", \"42,699\", \"27,245\", \"2…\nRows: 4\nColumns: 5\n$ `District\\n          Dist.` <int> 1, 2, 3, 4\n$ Leader                      <chr> \"54%Blum*\\n      Rep.\", \"54%Loebsack*\\n   …\n$ ``                          <chr> \"46%Vernon\\n      Dem.\", \"46%Peters\\n     …\n$ Rpt.                        <chr> \"100%\", \"100%\", \"100%\", \"100%\"\n$ ``                          <lgl> NA, NA, NA, NA\nRows: 25\nColumns: 5\n$ `Seat\\n          Seat` <int> 2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26,…\n$ Leader                 <chr> \"0%Feenstra*\\n      Rep.\", \"61%Guth*\\n      Rep…\n$ ``                     <chr> \"Uncontested\", \"39%Bangert\\n      Dem.\", \"17%Se…\n$ Rpt.                   <chr> \"\", \"100%\", \"100%\", \"100%\", \"100%\", \"100%\", \"10…\n$ ``                     <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\nRows: 100\nColumns: 5\n$ `District\\n          Dist.` <int> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13,…\n$ Leader                      <chr> \"0%Wills*\\n      Rep.\", \"0%Jones*\\n      R…\n$ ``                          <chr> \"Uncontested\", \"Uncontested\", \"19%McCoy\\n …\n$ Rpt.                        <chr> \"\", \"\", \"100%\", \"100%\", \"100%\", \"100%\", \"1…\n$ ``                          <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\nRows: 3\nColumns: 5\n$ Question <chr> \"Retain Brent Appel\", \"Retain Daryl Hecht\", \"Retain Mark Cady\"\n$ Yes      <chr> \"64%Yes\", \"64%Yes\", \"65%Yes\"\n$ No       <chr> \"36%No\", \"36%No\", \"35%No\"\n$ Rpt.     <chr> \"100%\", \"100%\", \"100%\"\n$ ``       <lgl> NA, NA, NA\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n[[1]]\n# A tibble: 11 × 7\n   Candidate Candidate                             Party Votes Pct.  ``    E.V. \n   <lgl>     <chr>                                 <chr> <chr> <chr> <lgl> <chr>\n 1 NA        \"Trump\\n            \\n            \\n… \"Rep… 800,… 51.1% NA    6    \n 2 NA        \"Clinton\\n            \\n            … \"Dem… 653,… 41.7% NA    —    \n 3 NA        \"Johnson\\n            \\n            … \"Lib… 59,1… 3.8%  NA    —    \n 4 NA        \"Others\\n            \\n            \\… \"Ind… 19,9… 1.3%  NA    —    \n 5 NA        \"McMullin\\n            \\n           … \"Pet… 12,3… 0.8%  NA    —    \n 6 NA        \"Stein\\n            \\n            \\n… \"Gre… 11,4… 0.7%  NA    —    \n 7 NA        \"Castle\\n            \\n            \\… \"Con… 5,335 0.3%  NA    —    \n 8 NA        \"Kahn\\n            \\n            \\n … \"Ind… 2,247 0.1%  NA    —    \n 9 NA        \"De La Fuente\\n            \\n       … \"Pet… 451   0.0%  NA    —    \n10 NA        \"La Riva\\n            \\n            … \"P.S… 323   0.0%  NA    —    \n11 NA        \"Others\\n            \\n            \\… \"\"    32,2… 2.1%  NA    —    \n\n[[2]]\n# A tibble: 99 × 3\n   `Vote by county` Trump  Clinton\n   <chr>            <chr>  <chr>  \n 1 Polk             93,492 119,804\n 2 Linn             48,390 58,935 \n 3 Scott            39,149 40,440 \n 4 Johnson          21,044 50,200 \n 5 Black Hawk       27,476 32,233 \n 6 Story            19,458 25,709 \n 7 Dubuque          23,460 22,850 \n 8 Woodbury         24,727 16,210 \n 9 Pottawattamie    24,447 15,355 \n10 Dallas           19,339 15,701 \n# ℹ 89 more rows\n\n[[3]]\n# A tibble: 6 × 6\n  Candidate Candidate                                    Party Votes Pct.  ``   \n  <lgl>     <chr>                                        <chr> <chr> <chr> <lgl>\n1 NA        \"Grassley*\\n            \\n            \\n   … \"Rep… 926,… 60.2% NA   \n2 NA        \"Judge\\n            \\n            \\n       … \"Dem… 549,… 35.7% NA   \n3 NA        \"Aldrich\\n            \\n            \\n     … \"Lib… 41,7… 2.7%  NA   \n4 NA        \"Hennager\\n            \\n            \\n    … \"Ind… 17,6… 1.1%  NA   \n5 NA        \"Luick-Thrams\\n            \\n            \\n… \"Pet… 4,441 0.3%  NA   \n6 NA        \"Others\\n            \\n            \\n      … \"\"    22,0… 1.4%  NA   \n\n[[4]]\n# A tibble: 99 × 3\n   `Vote by county` Grassley Judge  \n   <chr>            <chr>    <chr>  \n 1 Polk             118,164  100,317\n 2 Linn             62,737   47,635 \n 3 Scott            46,415   34,503 \n 4 Johnson          28,914   42,699 \n 5 Black Hawk       33,884   27,245 \n 6 Story            25,475   21,472 \n 7 Dubuque          27,348   19,291 \n 8 Woodbury         27,166   13,909 \n 9 Pottawattamie    25,721   12,943 \n10 Dallas           24,374   11,876 \n# ℹ 89 more rows\n\n[[5]]\n# A tibble: 4 × 5\n  `District\\n          Dist.` Leader                     ``          Rpt.  ``   \n                        <int> <chr>                      <chr>       <chr> <lgl>\n1                           1 \"54%Blum*\\n      Rep.\"     \"46%Vernon… 100%  NA   \n2                           2 \"54%Loebsack*\\n      Dem.\" \"46%Peters… 100%  NA   \n3                           3 \"54%Young*\\n      Rep.\"    \"40%Mowrer… 100%  NA   \n4                           4 \"61%King*\\n      Rep.\"     \"39%Weaver… 100%  NA   \n\n[[6]]\n# A tibble: 25 × 5\n   `Seat\\n          Seat` Leader                     ``              Rpt.  ``   \n                    <int> <chr>                      <chr>           <chr> <lgl>\n 1                      2 \"0%Feenstra*\\n      Rep.\"  \"Uncontested\"   \"\"    NA   \n 2                      4 \"61%Guth*\\n      Rep.\"     \"39%Bangert\\n … \"100… NA   \n 3                      6 \"83%Segebart*\\n      Rep.\" \"17%Serianni\\n… \"100… NA   \n 4                      8 \"54%Dawson\\n      Rep.\"    \"46%Gronstal*\\… \"100… NA   \n 5                     10 \"67%Chapman*\\n      Rep.\"  \"33%Paladino\\n… \"100… NA   \n 6                     12 \"78%Costello*\\n      Rep.\" \"22%Brantz\\n  … \"100… NA   \n 7                     14 \"74%Sinclair*\\n      Rep.\" \"26%Smith\\n   … \"100… NA   \n 8                     16 \"60%Boulton\\n      Dem.\"   \"35%Pryor\\n   … \"100… NA   \n 9                     18 \"0%Petersen*\\n      Dem.\"  \"Uncontested\"   \"\"    NA   \n10                     20 \"60%Zaun*\\n      Rep.\"     \"41%Hikiji\\n  … \"100… NA   \n# ℹ 15 more rows\n\n[[7]]\n# A tibble: 100 × 5\n   `District\\n          Dist.` Leader                    ``          Rpt.  ``   \n                         <int> <chr>                     <chr>       <chr> <lgl>\n 1                           1 \"0%Wills*\\n      Rep.\"    \"Uncontest… \"\"    NA   \n 2                           2 \"0%Jones*\\n      Rep.\"    \"Uncontest… \"\"    NA   \n 3                           3 \"81%Huseman*\\n      Rep.\" \"19%McCoy\\… \"100… NA   \n 4                           4 \"63%Wheeler\\n      Rep.\"  \"37%VanDer… \"100… NA   \n 5                           5 \"77%Holz*\\n      Rep.\"    \"23%Ritz\\n… \"100… NA   \n 6                           6 \"66%Carlin\\n      Rep.\"   \"35%Alarco… \"100… NA   \n 7                           7 \"63%Gassman*\\n      Rep.\" \"37%Grussi… \"100… NA   \n 8                           8 \"68%Baxter*\\n      Rep.\"  \"32%Paule … \"100… NA   \n 9                           9 \"57%Miller*\\n      Dem.\"  \"43%Waecht… \"100… NA   \n10                          10 \"0%Sexton*\\n      Rep.\"   \"Uncontest… \"\"    NA   \n# ℹ 90 more rows\n\n[[8]]\n# A tibble: 3 × 5\n  Question           Yes    No    Rpt.  ``   \n  <chr>              <chr>  <chr> <chr> <lgl>\n1 Retain Brent Appel 64%Yes 36%No 100%  NA   \n2 Retain Daryl Hecht 64%Yes 36%No 100%  NA   \n3 Retain Mark Cady   65%Yes 35%No 100%  NA   \n```\n:::\n:::\n\n\n\n\n\n\n\n\n\nInstructions:\n\nSubmit to your repo. Make sure that all of the github actions pass (check menu item Actions - all of the actions should have green checks)\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}